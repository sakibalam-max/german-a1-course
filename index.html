<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DeutschMeister A1 - Complete German Learning</title>
    <style>
        :root {
            --primary-color: #1a237e;
            --secondary-color: #303f9f;
            --accent-color: #ff5722;
            --light-bg: #e8eaf6;
            --correct-color: #4caf50;
            --wrong-color: #f44336;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 0;
            color: #333;
            background-color: #f5f5f5;
        }
        
        header {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            padding: 2rem 1rem;
            text-align: center;
            box-shadow: 0 2px 5px rgba(0,0,0,0.2);
        }
        
        nav {
            background-color: var(--secondary-color);
            padding: 1rem;
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        nav ul {
            list-style-type: none;
            padding: 0;
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin: 0;
        }
        
        nav li {
            margin: 0 1.5rem;
        }
        
        nav a {
            color: white;
            text-decoration: none;
            font-weight: bold;
            font-size: 1.1rem;
            padding: 0.5rem 1rem;
            border-radius: 4px;
            transition: background-color 0.3s;
        }
        
        nav a:hover {
            background-color: var(--primary-color);
        }
        
        main {
            padding: 2rem;
            max-width: 1200px;
            margin: 0 auto;
        }
        
        section {
            background-color: white;
            border-radius: 8px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        h2 {
            color: var(--primary-color);
            border-bottom: 2px solid var(--light-bg);
            padding-bottom: 0.5rem;
            margin-top: 0;
        }
        
        h3 {
            color: var(--secondary-color);
        }
        
        .vocab-card {
            background-color: var(--light-bg);
            padding: 1.2rem;
            margin: 0.8rem;
            border-radius: 8px;
            display: inline-block;
            min-width: 200px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
            transition: transform 0.2s;
        }
        
        .vocab-card:hover {
            transform: translateY(-3px);
        }
        
        .vocab-card.article-der {
            border-left: 4px solid #3f51b5;
        }
        
        .vocab-card.article-die {
            border-left: 4px solid #e91e63;
        }
        
        .vocab-card.article-das {
            border-left: 4px solid #4caf50;
        }
        
        .exercise {
            margin: 1.5rem 0;
            padding: 1.5rem;
            background-color: #f9f9f9;
            border-left: 4px solid var(--primary-color);
            border-radius: 4px;
        }
        
        button {
            background-color: var(--primary-color);
            color: white;
            border: none;
            padding: 0.7rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            margin: 0.5rem 0;
            font-size: 1rem;
            transition: background-color 0.3s;
        }
        
        button:hover {
            background-color: var(--secondary-color);
        }
        
        button.secondary {
            background-color: var(--accent-color);
        }
        
        input[type="text"], textarea, select {
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            width: 100%;
            max-width: 400px;
            font-size: 1rem;
            margin: 0.5rem 0;
        }
        
        .feedback {
            padding: 0.7rem;
            margin: 1rem 0;
            border-radius: 4px;
        }
        
        .correct {
            background-color: #e8f5e9;
            color: var(--correct-color);
            border-left: 4px solid var(--correct-color);
        }
        
        .wrong {
            background-color: #ffebee;
            color: var(--wrong-color);
            border-left: 4px solid var(--wrong-color);
        }
        
        .flashcard {
            width: 300px;
            height: 200px;
            perspective: 1000px;
            margin: 1rem auto;
        }
        
        .flashcard-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        
        .flashcard:hover .flashcard-inner {
            transform: rotateY(180deg);
        }
        
        .flashcard-front, .flashcard-back {
            position: absolute;
            width: 100%;
            height: 100%;
            backface-visibility: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 8px;
            padding: 1rem;
            box-sizing: border-box;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .flashcard-front {
            background-color: var(--light-bg);
            color: var(--primary-color);
            font-size: 1.5rem;
            font-weight: bold;
        }
        
        .flashcard-back {
            background-color: var(--primary-color);
            color: white;
            transform: rotateY(180deg);
        }
        
        footer {
            background: linear-gradient(135deg, var(--primary-color), var(--secondary-color));
            color: white;
            text-align: center;
            padding: 2rem;
            margin-top: 2rem;
        }
        
        .progress-container {
            width: 100%;
            background-color: #e0e0e0;
            border-radius: 4px;
            margin: 1rem 0;
        }
        
        .progress-bar {
            height: 20px;
            background-color: var(--correct-color);
            border-radius: 4px;
            width: 0%;
            transition: width 0.5s;
        }
        
        .word {
            padding: 0.5rem 1rem;
            margin: 0.3rem;
            background-color: var(--light-bg);
            border-radius: 4px;
            display: inline-block;
            cursor: move;
        }
        
        .slot {
            min-height: 50px;
            border: 2px dashed #ccc;
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: 4px;
        }
        
        .quiz-option {
            display: block;
            padding: 0.8rem;
            margin: 0.5rem 0;
            background-color: #f5f5f5;
            border-radius: 4px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .quiz-option:hover {
            background-color: #e0e0e0;
        }
        
        .quiz-option.selected {
            background-color: var(--light-bg);
            border-left: 4px solid var(--primary-color);
        }
        
        .quiz-option.correct {
            background-color: #e8f5e9;
            border-left: 4px solid var(--correct-color);
        }
        
        .quiz-option.incorrect {
            background-color: #ffebee;
            border-left: 4px solid var(--wrong-color);
        }
        
        .conversation-container {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            margin: 1rem 0;
            background-color: white;
        }
        
        .conversation-line {
            margin: 0.5rem 0;
            padding: 0.5rem;
            border-radius: 4px;
        }
        
        .conversation-line.german {
            background-color: var(--light-bg);
            text-align: left;
        }
        
        .conversation-line.english {
            background-color: #f5f5f5;
            text-align: right;
            font-style: italic;
            color: #666;
        }
        
        .dialog-practice {
            background-color: white;
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1rem 0;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .dialog-line {
            margin: 0.5rem 0;
            padding: 0.5rem;
        }
        
        .dialog-prompt {
            font-weight: bold;
            color: var(--primary-color);
        }
        
        .dialog-response {
            padding: 0.7rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            margin: 0.5rem 0;
        }
        
        .dialog-feedback {
            margin-top: 0.5rem;
            padding: 0.5rem;
            border-radius: 4px;
        }
        
        .checklist-item {
            margin: 0.5rem 0;
            padding: 0.7rem;
            background-color: #f9f9f9;
            border-radius: 4px;
            display: flex;
            align-items: center;
        }
        
        .checklist-item input {
            margin-right: 1rem;
        }
        
        .checklist-item.completed {
            background-color: #e8f5e9;
            color: var(--correct-color);
        }
        
        /* Mobile responsiveness */
        @media (max-width: 768px) {
            nav ul {
                flex-direction: column;
                align-items: center;
            }
            
            nav li {
                margin: 0.5rem 0;
            }
            
            .vocab-card {
                width: 100%;
                margin: 0.5rem 0;
                box-sizing: border-box;
            }
            
            section {
                padding: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <header>
        <h1>DeutschMeister A1</h1>
        <p>Your complete guide to learning German from scratch</p>
        <div class="progress-container">
            <div class="progress-bar" id="progress-bar"></div>
        </div>
    </header>
    
    <nav>
        <ul>
            <li><a href="#basics">Basics</a></li>
            <li><a href="#vocabulary">Vocabulary</a></li>
            <li><a href="#grammar">Grammar</a></li>
            <li><a href="#conversation">Conversation</a></li>
            <li><a href="#exercises">Exercises</a></li>
            <li><a href="#tests">Tests</a></li>
            <li><a href="#resources">Resources</a></li>
        </ul>
    </nav>
    
    <main>
        <section id="basics">
            <h2>German Basics</h2>
            
            <h3>Essential Phrases</h3>
            <div class="vocab-card">
                <p><strong>Hallo!</strong> - Hello!</p>
                <button onclick="speak('Hallo')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>Guten Morgen!</strong> - Good morning!</p>
                <button onclick="speak('Guten Morgen')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>Guten Tag!</strong> - Good day!</p>
                <button onclick="speak('Guten Tag')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>Wie geht's?</strong> - How are you?</p>
                <button onclick="speak('Wie geht es dir')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>Danke, gut.</strong> - Thanks, good.</p>
                <button onclick="speak('Danke gut')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>Tschüss!</strong> - Bye!</p>
                <button onclick="speak('Tschüss')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>Entschuldigung!</strong> - Excuse me/Sorry!</p>
                <button onclick="speak('Entschuldigung')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>Sprechen Sie Englisch?</strong> - Do you speak English?</p>
                <button onclick="speak('Sprechen Sie Englisch')">Hear Pronunciation</button>
            </div>
            
            <h3>The German Alphabet</h3>
            <p>German uses the same 26 letters as English plus four special characters:</p>
            <p><strong>Ä</strong> (ae), <strong>Ö</strong> (oe), <strong>Ü</strong> (ue) and <strong>ß</strong> (sharp s - "ss")</p>
            <button onclick="playAlphabet()">Hear the Alphabet</button>
            <div id="alphabet-container"></div>
            
            <h3>Pronunciation Guide</h3>
            <div class="vocab-card">
                <p><strong>ch</strong> - Like in "ich" (not like English "ch")</p>
            </div>
            <div class="vocab-card">
                <p><strong>ei</strong> - Pronounced like "eye"</p>
            </div>
            <div class="vocab-card">
                <p><strong>ie</strong> - Pronounced like "ee"</p>
            </div>
            <div class="vocab-card">
                <p><strong>v</strong> - Often pronounced like "f"</p>
            </div>
            <div class="vocab-card">
                <p><strong>w</strong> - Pronounced like "v"</p>
            </div>
            
            <h3>Countries and Nationalities</h3>
            <div id="countries-container"></div>
            <button onclick="showCountries()">Show Countries</button>
            
            <h3>Time Expressions</h3>
            <div id="time-container"></div>
            <button onclick="showTimeExpressions()">Show Time Expressions</button>
        </section>
        
        <section id="vocabulary">
            <h2>Vocabulary Builder</h2>
            
            <h3>Common Words</h3>
            <div class="vocab-card article-der">
                <p><strong>der Mann</strong> - the man</p>
                <button onclick="speak('der Mann')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card article-die">
                <p><strong>die Frau</strong> - the woman</p>
                <button onclick="speak('die Frau')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card article-das">
                <p><strong>das Kind</strong> - the child</p>
                <button onclick="speak('das Kind')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>und</strong> - and</p>
                <button onclick="speak('und')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>oder</strong> - or</p>
                <button onclick="speak('oder')">Hear Pronunciation</button>
            </div>
            
            <div class="vocab-card">
                <p><strong>aber</strong> - but</p>
                <button onclick="speak('aber')">Hear Pronunciation</button>
            </div>
            
            <h3>Numbers 1-100</h3>
            <div id="numbers-container"></div>
            <button onclick="showNumbers()">Show Numbers</button>
            <button onclick="speakNumbers()" class="secondary">Hear Numbers</button>
            
            <h3>Days, Months, Seasons</h3>
            <div id="days-container"></div>
            <button onclick="showDays()">Show Days</button>
            <button onclick="speakDays()" class="secondary">Hear Days</button>
            
            <h3>Colors</h3>
            <div id="colors-container"></div>
            <button onclick="showColors()">Show Colors</button>
            
            <h3>Food Vocabulary</h3>
            <div id="food-container"></div>
            <button onclick="showFood()">Show Food Words</button>
            
            <h3>Family Members</h3>
            <div id="family-container"></div>
            <button onclick="showFamily()">Show Family Terms</button>
            
            <h3>Clothing</h3>
            <div id="clothing-container"></div>
            <button onclick="showClothing()">Show Clothing</button>
            
            <h3>Household Items</h3>
            <div id="household-container"></div>
            <button onclick="showHousehold()">Show Household Items</button>
            
            <h3>Professions</h3>
            <div id="professions-container"></div>
            <button onclick="showProfessions()">Show Professions</button>
        </section>
        
        <section id="grammar">
            <h2>Grammar Essentials</h2>
            
            <h3>Definite Articles (The)</h3>
            <div class="vocab-card article-der">
                <p><strong>der</strong> - masculine (der Mann)</p>
            </div>
            <div class="vocab-card article-die">
                <p><strong>die</strong> - feminine (die Frau)</p>
            </div>
            <div class="vocab-card article-das">
                <p><strong>das</strong> - neuter (das Kind)</p>
            </div>
            <div class="vocab-card article-die">
                <p><strong>die</strong> - plural (die Männer)</p>
            </div>
            
            <h3>Indefinite Articles (A/An)</h3>
            <div class="vocab-card article-der">
                <p><strong>ein</strong> - masculine (ein Mann)</p>
            </div>
            <div class="vocab-card article-die">
                <p><strong>eine</strong> - feminine (eine Frau)</p>
            </div>
            <div class="vocab-card article-das">
                <p><strong>ein</strong> - neuter (ein Kind)</p>
            </div>
            
            <h3>Personal Pronouns</h3>
            <div class="vocab-card">
                <p><strong>ich</strong> - I</p>
            </div>
            <div class="vocab-card">
                <p><strong>du</strong> - you (informal singular)</p>
            </div>
            <div class="vocab-card">
                <p><strong>er/sie/es</strong> - he/she/it</p>
            </div>
            <div class="vocab-card">
                <p><strong>wir</strong> - we</p>
            </div>
            <div class="vocab-card">
                <p><strong>ihr</strong> - you (informal plural)</p>
            </div>
            <div class="vocab-card">
                <p><strong>sie/Sie</strong> - they/you (formal)</p>
            </div>
            
            <h3>Present Tense of "sein" (to be)</h3>
            <div class="vocab-card">
                <p><strong>ich bin</strong> - I am</p>
            </div>
            <div class="vocab-card">
                <p><strong>du bist</strong> - you are (informal singular)</p>
            </div>
            <div class="vocab-card">
                <p><strong>er/sie/es ist</strong> - he/she/it is</p>
            </div>
            <div class="vocab-card">
                <p><strong>wir sind</strong> - we are</p>
            </div>
            <div class="vocab-card">
                <p><strong>ihr seid</strong> - you are (informal plural)</p>
            </div>
            <div class="vocab-card">
                <p><strong>sie/Sie sind</strong> - they/you are (formal)</p>
            </div>
            
            <h3>Present Tense of "haben" (to have)</h3>
            <div class="vocab-card">
                <p><strong>ich habe</strong> - I have</p>
            </div>
            <div class="vocab-card">
                <p><strong>du hast</strong> - you have</p>
            </div>
            <div class="vocab-card">
                <p><strong>er/sie/es hat</strong> - he/she/it has</p>
            </div>
            <div class="vocab-card">
                <p><strong>wir haben</strong> - we have</p>
            </div>
            <div class="vocab-card">
                <p><strong>ihr habt</strong> - you have</p>
            </div>
            <div class="vocab-card">
                <p><strong>sie/Sie haben</strong> - they/you have (formal)</p>
            </div>
            
            <h3>Regular Verb Conjugation</h3>
            <p>Example with "lernen" (to learn):</p>
            <div class="vocab-card">
                <p><strong>ich lerne</strong> - I learn</p>
            </div>
            <div class="vocab-card">
                <p><strong>du lernst</strong> - you learn</p>
            </div>
            <div class="vocab-card">
                <p><strong>er/sie/es lernt</strong> - he/she/it learns</p>
            </div>
            <div class="vocab-card">
                <p><strong>wir lernen</strong> - we learn</p>
            </div>
            <div class="vocab-card">
                <p><strong>ihr lernt</strong> - you learn</p>
            </div>
            <div class="vocab-card">
                <p><strong>sie/Sie lernen</strong> - they/you learn (formal)</p>
            </div>
            
            <h3>Word Order</h3>
            <p>In German, the verb typically comes in the second position:</p>
            <div class="vocab-card">
                <p><em>Ich lerne Deutsch.</em> (I learn German.)</p>
            </div>
            <div class="vocab-card">
                <p><em>Heute gehe ich ins Kino.</em> (Today I go to the cinema.)</p>
            </div>
            
            <h3>Question Words</h3>
            <div class="vocab-card">
                <p><strong>Wer?</strong> - Who?</p>
            </div>
            <div class="vocab-card">
                <p><strong>Was?</strong> - What?</p>
            </div>
            <div class="vocab-card">
                <p><strong>Wo?</strong> - Where?</p>
            </div>
            <div class="vocab-card">
                <p><strong>Wann?</strong> - When?</p>
            </div>
            <div class="vocab-card">
                <p><strong>Warum?</strong> - Why?</p>
            </div>
            <div class="vocab-card">
                <p><strong>Wie?</strong> - How?</p>
            </div>
            <div class="vocab-card">
                <p><strong>Wie viel?</strong> - How much?</p>
            </div>
            <div class="vocab-card">
                <p><strong>Wie viele?</strong> - How many?</p>
            </div>
            
            <h3>Possessive Pronouns</h3>
            <div class="vocab-card">
                <p><strong>mein</strong> - my</p>
            </div>
            <div class="vocab-card">
                <p><strong>dein</strong> - your (informal)</p>
            </div>
            <div class="vocab-card">
                <p><strong>sein/ihr/sein</strong> - his/her/its</p>
            </div>
            <div class="vocab-card">
                <p><strong>unser</strong> - our</p>
            </div>
            <div class="vocab-card">
                <p><strong>euer</strong> - your (plural informal)</p>
            </div>
            <div class="vocab-card">
                <p><strong>ihr/Ihr</strong> - their/your (formal)</p>
            </div>
            
            <h3>Negation with "nicht" and "kein"</h3>
            <div class="vocab-card">
                <p><em>Ich bin nicht müde.</em> (I am not tired.)</p>
            </div>
            <div class="vocab-card">
                <p><em>Ich habe keine Zeit.</em> (I have no time.)</p>
            </div>
            
            <h3>Modal Verbs</h3>
            <div class="vocab-card">
                <p><strong>können</strong> - can, to be able to</p>
            </div>
            <div class="vocab-card">
                <p><strong>müssen</strong> - must, to have to</p>
            </div>
            <div class="vocab-card">
                <p><strong>wollen</strong> - to want</p>
            </div>
            <div class="vocab-card">
                <p><strong>sollen</strong> - should, to be supposed to</p>
            </div>
            <div class="vocab-card">
                <p><strong>dürfen</strong> - may, to be allowed to</p>
            </div>
            <div class="vocab-card">
                <p><strong>mögen</strong> - to like</p>
            </div>
            
            <h3>Accusative Case</h3>
            <p>Used for direct objects:</p>
            <div class="vocab-card">
                <p><em>Ich sehe <strong>den</strong> Mann.</em> (I see the man.)</p>
            </div>
            <div class="vocab-card">
                <p><em>Er hat <strong>ein</strong> Buch.</em> (He has a book.)</p>
            </div>
        </section>
        
        <section id="conversation">
            <h2>Conversation Practice</h2>
            
            <h3>Common Dialogues</h3>
            <div class="conversation-container">
                <h4>Greetings and Introductions</h4>
                <div class="conversation-line german">Hallo! Wie geht's?</div>
                <div class="conversation-line english">Hello! How are you?</div>
                <div class="conversation-line german">Mir geht's gut, danke. Und dir?</div>
                <div class="conversation-line english">I'm fine, thanks. And you?</div>
                <div class="conversation-line german">Auch gut. Wie heißt du?</div>
                <div class="conversation-line english">Also good. What's your name?</div>
                <div class="conversation-line german">Ich heiße Anna. Und du?</div>
                <div class="conversation-line english">My name is Anna. And you?</div>
                <div class="conversation-line german">Ich bin Max. Schön dich kennenzulernen!</div>
                <div class="conversation-line english">I'm Max. Nice to meet you!</div>
                <button onclick="speakConversation('greeting')">Hear Conversation</button>
            </div>
            
            <div class="conversation-container">
                <h4>At a Restaurant</h4>
                <div class="conversation-line german">Guten Abend! Haben Sie einen Tisch für zwei?</div>
                <div class="conversation-line english">Good evening! Do you have a table for two?</div>
                <div class="conversation-line german">Ja, natürlich. Hier bitte.</div>
                <div class="conversation-line english">Yes, of course. Here please.</div>
                <div class="conversation-line german">Können wir die Speisekarte sehen?</div>
                <div class="conversation-line english">Can we see the menu?</div>
                <div class="conversation-line german">Hier bitte. Möchten Sie etwas zu trinken?</div>
                <div class="conversation-line english">Here you are. Would you like something to drink?</div>
                <div class="conversation-line german">Ich hätte gern ein Glas Wasser, bitte.</div>
                <div class="conversation-line english">I'd like a glass of water, please.</div>
                <button onclick="speakConversation('restaurant')">Hear Conversation</button>
            </div>
            
            <div class="conversation-container">
                <h4>Shopping</h4>
                <div class="conversation-line german">Entschuldigung, wie viel kostet das?</div>
                <div class="conversation-line english">Excuse me, how much does this cost?</div>
                <div class="conversation-line german">Das kostet 20 Euro.</div>
                <div class="conversation-line english">That costs 20 euros.</div>
                <div class="conversation-line german">Kann ich mit Karte zahlen?</div>
                <div class="conversation-line english">Can I pay by card?</div>
                <div class="conversation-line german">Ja, natürlich.</div>
                <div class="conversation-line english">Yes, of course.</div>
                <div class="conversation-line german">Hier bitte. Danke schön!</div>
                <div class="conversation-line english">Here you are. Thank you very much!</div>
                <button onclick="speakConversation('shopping')">Hear Conversation</button>
            </div>
            
            <h3>Dialog Practice</h3>
            <div class="dialog-practice">
                <p class="dialog-prompt">Server: Guten Tag! Was möchten Sie bestellen?</p>
                <div class="dialog-response" contenteditable="true" id="dialog-response1"></div>
                <button onclick="checkDialogResponse(1, 'Ich hätte gern einen Kaffee, bitte.')">Check Answer</button>
                <div class="dialog-feedback" id="dialog-feedback1"></div>
            </div>
            
            <div class="dialog-practice">
                <p class="dialog-prompt">Person: Woher kommst du?</p>
                <div class="dialog-response" contenteditable="true" id="dialog-response2"></div>
                <button onclick="checkDialogResponse(2, 'Ich komme aus [Land].')">Check Answer</button>
                <div class="dialog-feedback" id="dialog-feedback2"></div>
            </div>
            
            <div class="dialog-practice">
                <p class="dialog-prompt">Friend: Wie alt bist du?</p>
                <div class="dialog-response" contenteditable="true" id="dialog-response3"></div>
                <button onclick="checkDialogResponse(3, 'Ich bin [Alter] Jahre alt.')">Check Answer</button>
                <div class="dialog-feedback" id="dialog-feedback3"></div>
            </div>
            
            <h3>Role Play Scenarios</h3>
            <div class="exercise">
                <h4>At the Train Station</h4>
                <p>Practice buying a ticket and asking for directions:</p>
                <button onclick="startRolePlay('trainStation')">Start Role Play</button>
                <div id="role-play-container"></div>
            </div>
            
            <div class="exercise">
                <h4>At the Hotel</h4>
                <p>Practice checking in and asking about amenities:</p>
                <button onclick="startRolePlay('hotel')">Start Role Play</button>
                <div id="hotel-role-play"></div>
            </div>
        </section>
        
        <section id="exercises">
            <h2>Practice Exercises</h2>
            
            <div class="exercise">
                <h3>Flashcards</h3>
                <div class="flashcard">
                    <div class="flashcard-inner" id="flashcard">
                        <div class="flashcard-front" id="flashcard-front">
                            Click to flip
                        </div>
                        <div class="flashcard-back" id="flashcard-back">
                            Translation appears here
                        </div>
                    </div>
                </div>
                <button onclick="nextFlashcard()">Next Card</button>
                <button onclick="speak(document.getElementById('flashcard-front').textContent)" class="secondary">Hear Word</button>
                <select id="flashcard-category" onchange="changeFlashcardCategory()">
                    <option value="basic">Basic Vocabulary</option>
                    <option value="food">Food</option>
                    <option value="family">Family</option>
                    <option value="verbs">Common Verbs</option>
                </select>
            </div>
            
            <div class="exercise">
                <h3>Matching Exercise</h3>
                <p>Match the German words with their English meanings:</p>
                <div id="matching-game"></div>
                <button onclick="createMatchingGame()">Start Exercise</button>
                <div id="matching-feedback" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Fill in the Blank</h3>
                <p>Complete the sentence with the correct form of "sein":</p>
                <p>Ich _____ Student. (I am a student.)</p>
                <input type="text" id="answer1">
                <button onclick="checkAnswer1()">Check Answer</button>
                <div id="feedback1" class="feedback"></div>
                
                <p>Wir _____ aus Deutschland. (We are from Germany.)</p>
                <input type="text" id="answer2">
                <button onclick="checkAnswer2()">Check Answer</button>
                <div id="feedback2" class="feedback"></div>
                
                <p>_____ du müde? (Are you tired?)</p>
                <input type="text" id="answer3">
                <button onclick="checkAnswer3()">Check Answer</button>
                <div id="feedback3" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Article Practice</h3>                <p>Fill in the correct definite article (der, die, das):</p>
                <p>_____ Mann (the man)</p>
                <input type="text" id="article1">
                <button onclick="checkArticle1()">Check Answer</button>
                <div id="article-feedback1" class="feedback"></div>
                
                <p>_____ Frau (the woman)</p>
                <input type="text" id="article2">
                <button onclick="checkArticle2()">Check Answer</button>
                <div id="article-feedback2" class="feedback"></div>
                
                <p>_____ Kind (the child)</p>
                <input type="text" id="article3">
                <button onclick="checkArticle3()">Check Answer</button>
                <div id="article-feedback3" class="feedback"></div>
                
                <p>_____ Buch (the book)</p>
                <input type="text" id="article4">
                <button onclick="checkArticle4()">Check Answer</button>
                <div id="article-feedback4" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Verb Conjugation Practice</h3>
                <p>Conjugate the verb "wohnen" (to live):</p>
                <p>Ich _____ in Berlin. (I live in Berlin.)</p>
                <input type="text" id="verb1">
                <button onclick="checkVerb1()">Check Answer</button>
                <div id="verb-feedback1" class="feedback"></div>
                
                <p>Du _____ in Hamburg. (You live in Hamburg.)</p>
                <input type="text" id="verb2">
                <button onclick="checkVerb2()">Check Answer</button>
                <div id="verb-feedback2" class="feedback"></div>
                
                <p>Er _____ in München. (He lives in Munich.)</p>
                <input type="text" id="verb3">
                <button onclick="checkVerb3()">Check Answer</button>
                <div id="verb-feedback3" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Word Order Exercise</h3>
                <p>Arrange the words to form a correct sentence:</p>
                <div id="word-order-exercise">
                    <div class="word" draggable="true" id="word1">lerne</div>
                    <div class="word" draggable="true" id="word2">Ich</div>
                    <div class="word" draggable="true" id="word3">Deutsch</div>
                </div>
                <div id="word-order-slots">
                    <div class="slot" id="slot1"></div>
                    <div class="slot" id="slot2"></div>
                    <div class="slot" id="slot3"></div>
                </div>
                <button onclick="checkWordOrder()">Check Answer</button>
                <div id="word-order-feedback" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Listening Comprehension</h3>
                <p>Listen to the phrase and type what you hear:</p>
                <button onclick="playListeningExercise()">Play Audio</button>
                <input type="text" id="listening-answer">
                <button onclick="checkListeningAnswer()">Check Answer</button>
                <div id="listening-feedback" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Multiple Choice Quiz</h3>
                <p>What does "Buch" mean?</p>
                <div class="quiz-option" onclick="selectQuizOption(this, 'correct')">Book</div>
                <div class="quiz-option" onclick="selectQuizOption(this, 'incorrect')">House</div>
                <div class="quiz-option" onclick="selectQuizOption(this, 'incorrect')">Car</div>
                <div class="quiz-option" onclick="selectQuizOption(this, 'incorrect')">Dog</div>
                <div id="quiz-feedback" class="feedback"></div>
                
                <p>Choose the correct article for "Mädchen" (girl):</p>
                <div class="quiz-option" onclick="selectQuizOption(this, 'incorrect')">der</div>
                <div class="quiz-option" onclick="selectQuizOption(this, 'incorrect')">die</div>
                <div class="quiz-option" onclick="selectQuizOption(this, 'correct')">das</div>
                <div id="quiz-feedback2" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Sentence Builder</h3>
                <p>Build a sentence using these words:</p>
                <select id="sentence-subject">
                    <option value="Ich">Ich</option>
                    <option value="Du">Du</option>
                    <option value="Er">Er</option>
                    <option value="Wir">Wir</option>
                </select>
                <select id="sentence-verb">
                    <option value="habe">habe</option>
                    <option value="hast">hast</option>
                    <option value="hat">hat</option>
                    <option value="haben">haben</option>
                </select>
                <select id="sentence-object">
                    <option value="ein Buch">ein Buch</option>
                    <option value="eine Katze">eine Katze</option>
                    <option value="einen Hund">einen Hund</option>
                    <option value="ein Haus">ein Haus</option>
                </select>
                <button onclick="buildSentence()">Build Sentence</button>
                <div id="sentence-result" class="feedback"></div>
                <button onclick="speak(document.getElementById('sentence-result').textContent)" class="secondary">Hear Sentence</button>
            </div>
        </section>
        
        <section id="tests">
            <h2>A1 Level Tests</h2>
            
            <div class="exercise">
                <h3>Vocabulary Test</h3>
                <p>Translate these words to German:</p>
                <div id="vocab-test-container"></div>
                <button onclick="startVocabTest()">Start Test</button>
                <button onclick="checkVocabTest()" class="secondary">Check Answers</button>
                <div id="vocab-test-feedback" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Grammar Test</h3>
                <p>Complete the sentences with the correct words:</p>
                <div id="grammar-test-container"></div>
                <button onclick="startGrammarTest()">Start Test</button>
                <button onclick="checkGrammarTest()" class="secondary">Check Answers</button>
                <div id="grammar-test-feedback" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Listening Test</h3>
                <p>Listen to the audio and answer the questions:</p>
                <div id="listening-test-container"></div>
                <button onclick="startListeningTest()">Start Test</button>
                <div id="listening-test-feedback" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Reading Comprehension</h3>
                <p>Read the text and answer the questions:</p>
                <div id="reading-test-container"></div>
                <button onclick="startReadingTest()">Start Test</button>
                <div id="reading-test-feedback" class="feedback"></div>
            </div>
            
            <div class="exercise">
                <h3>Final A1 Assessment</h3>
                <p>Test all your A1 knowledge with this comprehensive test:</p>
                <div id="final-test-container"></div>
                <button onclick="startFinalTest()">Start Test</button>
                <button onclick="checkFinalTest()" class="secondary">Check Answers</button>
                <div id="final-test-feedback" class="feedback"></div>
                <div id="final-test-score"></div>
            </div>
        </section>
        
        <section id="resources">
            <h2>Additional Resources</h2>
            
            <h3>Recommended Books</h3>
            <div class="vocab-card">
                <p><strong>Netzwerk A1</strong> - Comprehensive textbook with exercises</p>
            </div>
            <div class="vocab-card">
                <p><strong>Grammatik aktiv A1-B1</strong> - Grammar practice book</p>
            </div>
            <div class="vocab-card">
                <p><strong>Hueber Wortschatztrainer A1</strong> - Vocabulary builder</p>
            </div>
            <div class="vocab-card">
                <p><strong>Schritte International A1</strong> - Course book with audio</p>
            </div>
            
            <h3>Online Resources</h3>
            <div class="vocab-card">
                <p><strong><a href="https://www.goethe.de/en/index.html" target="_blank">Goethe Institute</a></strong> - Official German culture and language institute</p>
            </div>
            <div class="vocab-card">
                <p><strong><a href="https://www.dw.com/en/learn-german/s-2469" target="_blank">DW Learn German</a></strong> - Free courses from Deutsche Welle</p>
            </div>
            <div class="vocab-card">
                <p><strong><a href="https://www.deutsch-lernen.com/" target="_blank">Deutsch-Lernen.com</a></strong> - Free lessons and exercises</p>
            </div>
            <div class="vocab-card">
                <p><strong><a href="https://apps.ankiweb.net/" target="_blank">Anki</a></strong> - Flashcard app with German decks</p>
            </div>
            
            <h3>YouTube Channels</h3>
            <div class="vocab-card">
                <p><strong>Learn German with Anja</strong> - Fun, engaging lessons</p>
            </div>
            <div class="vocab-card">
                <p><strong>Easy German</strong> - Street interviews with subtitles</p>
            </div>
            <div class="vocab-card">
                <p><strong>Deutsch für Euch</strong> - Grammar-focused lessons</p>
            </div>
            <div class="vocab-card">
                <p><strong>Deutsch lernen mit der DW</strong> - Structured lessons from Deutsche Welle</p>
            </div>
            
            <h3>Mobile Apps</h3>
            <div class="vocab-card">
                <p><strong>Duolingo</strong> - Gamified language learning</p>
            </div>
            <div class="vocab-card">
                <p><strong>Memrise</strong> - Vocabulary with native speaker videos</p>
            </div>
            <div class="vocab-card">
                <p><strong>Clozemaster</strong> - Contextual sentence practice</p>
            </div>
            <div class="vocab-card">
                <p><strong>LingQ</strong> - Learn through reading and listening</p>
            </div>
            
            <h3>Language Exchange</h3>
            <div class="vocab-card">
                <p><strong><a href="https://www.tandem.net/" target="_blank">Tandem</a></strong> - Language exchange app</p>
            </div>
            <div class="vocab-card">
                <p><strong><a href="https://www.hellotalk.com/" target="_blank">HelloTalk</a></strong> - Chat with native speakers</p>
            </div>
            
            <h3>A1 Exam Preparation</h3>
            <div class="vocab-card">
                <p><strong>Goethe-Zertifikat A1</strong> - Practice materials for official exam</p>
            </div>
            <div class="vocab-card">
                <p><strong>Telc Deutsch A1</strong> - Sample tests and preparation</p>
            </div>
        </section>
        
        <section id="checklist">
            <h2>A1 Learning Checklist</h2>
            <p>Track your progress through the A1 level:</p>
            
            <h3>Vocabulary</h3>
            <div class="checklist-item">
                <input type="checkbox" id="check1" onchange="updateProgress()">
                <label for="check1">Basic greetings and introductions</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check2" onchange="updateProgress()">
                <label for="check2">Numbers 1-100</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check3" onchange="updateProgress()">
                <label for="check3">Days, months, seasons</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check4" onchange="updateProgress()">
                <label for="check4">Family members</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check5" onchange="updateProgress()">
                <label for="check5">Common objects and food</label>
            </div>
            
            <h3>Grammar</h3>
            <div class="checklist-item">
                <input type="checkbox" id="check6" onchange="updateProgress()">
                <label for="check6">Definite and indefinite articles</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check7" onchange="updateProgress()">
                <label for="check7">Present tense conjugation</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check8" onchange="updateProgress()">
                <label for="check8">Personal pronouns</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check9" onchange="updateProgress()">
                <label for="check9">Basic sentence structure</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check10" onchange="updateProgress()">
                <label for="check10">Question words</label>
            </div>
            
            <h3>Skills</h3>
            <div class="checklist-item">
                <input type="checkbox" id="check11" onchange="updateProgress()">
                <label for="check11">Introduce yourself</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check12" onchange="updateProgress()">
                <label for="check12">Ask and answer simple questions</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check13" onchange="updateProgress()">
                <label for="check13">Order food in a restaurant</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check14" onchange="updateProgress()">
                <label for="check14">Understand simple directions</label>
            </div>
            <div class="checklist-item">
                <input type="checkbox" id="check15" onchange="updateProgress()">
                <label for="check15">Read short, simple texts</label>
            </div>
            
            <div id="checklist-progress" class="feedback"></div>
        </section>
    </main>
    
    <footer>
        <p>&copy; 2025 MD. Sakib Alam German A1 level course | For educational purposes only</p>
        <p>Created for German language learners</p>
        <p>Contact: <a href="mailto:sakibalom014@gmail.com">sakibalom014@gamil.com</a></p>
    </footer>
    
    <script>
        // Progress tracking
        function updateProgress() {
            const checkboxes = document.querySelectorAll('#checklist input[type="checkbox"]');
            const checked = document.querySelectorAll('#checklist input[type="checkbox"]:checked').length;
            const total = checkboxes.length;
            const percentage = Math.round((checked / total) * 100);
            
            document.getElementById('progress-bar').style.width = percentage + '%';
            document.getElementById('checklist-progress').textContent = `You've completed ${percentage}% of the A1 checklist!`;
            document.getElementById('checklist-progress').className = percentage === 100 ? "feedback correct" : "feedback";
        }
        
        // Speech synthesis for pronunciation
        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'de-DE';
                utterance.rate = 0.8;
                window.speechSynthesis.speak(utterance);
            } else {
                alert("Text-to-speech not supported in your browser. Try Chrome or Edge.");
            }
        }
        
        // Alphabet pronunciation
        function playAlphabet() {
            const alphabet = [
                "A (ah)", "B (bay)", "C (tsay)", "D (day)", "E (ay)", 
                "F (eff)", "G (gay)", "H (hah)", "I (eeh)", "J (yot)", 
                "K (kah)", "L (ell)", "M (emm)", "N (enn)", "O (oh)", 
                "P (pay)", "Q (koo)", "R (err)", "S (ess)", "T (tay)", 
                "U (ooh)", "V (fow)", "W (vay)", "X (iks)", "Y (üpsilon)", 
                "Z (tset)", "Ä (ae)", "Ö (oe)", "Ü (ue)", "ß (sharp s)"
            ];
            
            let html = "<div style='columns: 3; margin-top: 1rem;'>";
            alphabet.forEach(letter => {
                html += `<div style='margin: 0.3rem 0;'>${letter}</div>`;
            });
            html += "</div>";
            
            document.getElementById("alphabet-container").innerHTML = html;
            
            // Speak the alphabet
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(
                    "A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z, Ä, Ö, Ü, ß"
                );
                utterance.lang = 'de-DE';
                utterance.rate = 0.7;
                window.speechSynthesis.speak(utterance);
            }
        }
        
        // Countries and nationalities
        function showCountries() {
            const countries = [
                {german: "Deutschland", english: "Germany", nationality: "deutsch"},
                {german: "Österreich", english: "Austria", nationality: "österreichisch"},
                {german: "die Schweiz", english: "Switzerland", nationality: "schweizerisch"},
                {german: "Frankreich", english: "France", nationality: "französisch"},
                {german: "Italien", english: "Italy", nationality: "italienisch"},
                {german: "Spanien", english: "Spain", nationality: "spanisch"},
                {german: "die USA", english: "USA", nationality: "amerikanisch"},
                {german: "Großbritannien", english: "Great Britain", nationality: "britisch"},
                {german: "China", english: "China", nationality: "chinesisch"},
                {german: "Japan", english: "Japan", nationality: "japanisch"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            countries.forEach(country => {
                html += `
                    <div class="vocab-card" style="text-align: center;">
                        <p><strong>${country.german}</strong><br>${country.english}<br>Nationality: ${country.nationality}</p>
                        <button onclick="speak('${country.german}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("countries-container").innerHTML = html;
        }
        
        // Time expressions
        function showTimeExpressions() {
            const times = [
                {german: "die Uhrzeit", english: "time"},
                {german: "die Stunde", english: "hour"},
                {german: "die Minute", english: "minute"},
                {german: "die Sekunde", english: "second"},
                {german: "die Woche", english: "week"},
                {german: "das Wochenende", english: "weekend"},
                {german: "der Morgen", english: "morning"},
                {german: "der Mittag", english: "midday"},
                {german: "der Abend", english: "evening"},
                {german: "die Nacht", english: "night"},
                {german: "gestern", english: "yesterday"},
                {german: "heute", english: "today"},
                {german: "morgen", english: "tomorrow"},
                {german: "jetzt", english: "now"},
                {german: "später", english: "later"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            times.forEach(time => {
                html += `
                    <div class="vocab-card" style="text-align: center;">
                        <p><strong>${time.german}</strong><br>${time.english}</p>
                        <button onclick="speak('${time.german}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("time-container").innerHTML = html;
        }
        
        // Numbers 1-100
        function showNumbers() {
            const numbers = [
                "eins - 1", "zwei - 2", "drei - 3", "vier - 4", "fünf - 5",
                "sechs - 6", "sieben - 7", "acht - 8", "neun - 9", "zehn - 10",
                "elf - 11", "zwölf - 12", "dreizehn - 13", "vierzehn - 14", "fünfzehn - 15",
                "sechzehn - 16", "siebzehn - 17", "achtzehn - 18", "neunzehn - 19", "zwanzig - 20",
                "dreißig - 30", "vierzig - 40", "fünfzig - 50", "sechzig - 60", "siebzig - 70",
                "achtzig - 80", "neunzig - 90", "(ein)hundert - 100"
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            numbers.forEach(num => {
                const [german, english] = num.split(" - ");
                html += `
                    <div class="vocab-card" style="text-align: center;">
                        <p><strong>${german}</strong><br>${english}</p>
                        <button onclick="speak('${german}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("numbers-container").innerHTML = html;
        }
        
        function speakNumbers() {
            const numbers = "eins, zwei, drei, vier, fünf, sechs, sieben, acht, neun, zehn, elf, zwölf, dreizehn, vierzehn, fünfzehn, sechzehn, siebzehn, achtzehn, neunzehn, zwanzig";
            speak(numbers);
        }
        
        // Days, months, seasons
        function showDays() {
            const days = [
                {german: "Montag", english: "Monday"},
                {german: "Dienstag", english: "Tuesday"},
                {german: "Mittwoch", english: "Wednesday"},
                {german: "Donnerstag", english: "Thursday"},
                {german: "Freitag", english: "Friday"},
                {german: "Samstag/Sonnabend", english: "Saturday"},
                {german: "Sonntag", english: "Sunday"},
                {german: "Januar", english: "January"},
                {german: "Februar", english: "February"},
                {german: "März", english: "March"},
                {german: "April", english: "April"},
                {german: "Mai", english: "May"},
                {german: "Juni", english: "June"},
                {german: "Juli", english: "July"},
                {german: "August", english: "August"},
                {german: "September", english: "September"},
                {german: "Oktober", english: "October"},
                {german: "November", english: "November"},
                {german: "Dezember", english: "December"},
                {german: "der Frühling", english: "spring"},
                {german: "der Sommer", english: "summer"},
                {german: "der Herbst", english: "autumn"},
                {german: "der Winter", english: "winter"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            days.forEach(day => {
                html += `
                    <div class="vocab-card" style="text-align: center;">
                        <p><strong>${day.german}</strong><br>${day.english}</p>
                        <button onclick="speak('${day.german}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("days-container").innerHTML = html;
        }
        
        function speakDays() {
            const days = "Montag, Dienstag, Mittwoch, Donnerstag, Freitag, Samstag, Sonntag";
            speak(days);
        }
        
        // Colors
        function showColors() {
            const colors = [
                {german: "rot", english: "red"},
                {german: "blau", english: "blue"},
                {german: "grün", english: "green"},
                {german: "gelb", english: "yellow"},
                {german: "schwarz", english: "black"},
                {german: "weiß", english: "white"},
                {german: "grau", english: "gray"},
                {german: "braun", english: "brown"},
                {german: "rosa", english: "pink"},
                {german: "lila", english: "purple"},
                {german: "orange", english: "orange"},
                {german: "silber", english: "silver"},
                {german: "gold", english: "gold"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            colors.forEach(color => {
                html += `
                    <div class="vocab-card" style="text-align: center; background-color: ${color.english}; color: ${['black','blue','brown','green','purple'].includes(color.english) ? 'white' : 'black'}">
                        <p><strong>${color.german}</strong><br>${color.english}</p>
                        <button onclick="speak('${color.german}')" style="background-color: ${['black','blue','brown','green','purple'].includes(color.english) ? '#333' : '#1a237e'}">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("colors-container").innerHTML = html;
        }
        
        // Food vocabulary
        function showFood() {
            const foods = [
                {german: "der Apfel", english: "apple", article: "der"},
                {german: "die Banane", english: "banana", article: "die"},
                {german: "das Brot", english: "bread", article: "das"},
                {german: "der Käse", english: "cheese", article: "der"},
                {german: "das Wasser", english: "water", article: "das"},
                {german: "die Milch", english: "milk", article: "die"},
                {german: "der Kaffee", english: "coffee", article: "der"},
                {german: "der Tee", english: "tea", article: "der"},
                {german: "das Fleisch", english: "meat", article: "das"},
                {german: "der Fisch", english: "fish", article: "der"},
                {german: "das Gemüse", english: "vegetables", article: "das"},
                {german: "das Obst", english: "fruit", article: "das"},
                {german: "der Reis", english: "rice", article: "der"},
                {german: "die Nudeln", english: "pasta", article: "die"},
                {german: "das Ei", english: "egg", article: "das"},
                {german: "der Zucker", english: "sugar", article: "der"},
                {german: "das Salz", english: "salt", article: "das"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            foods.forEach(food => {
                html += `
                    <div class="vocab-card article-${food.article}" style="text-align: center;">
                        <p><strong>${food.german}</strong><br>${food.english}</p>
                        <button onclick="speak('${food.german}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("food-container").innerHTML = html;
        }
        
        // Family vocabulary
        function showFamily() {
            const family = [
                {german: "die Familie", english: "family", article: "die"},
                {german: "die Mutter", english: "mother", article: "die"},
                {german: "der Vater", english: "father", article: "der"},
                {german: "die Eltern", english: "parents", article: "die"},
                {german: "der Bruder", english: "brother", article: "der"},
                {german: "die Schwester", english: "sister", article: "die"},
                {german: "der Sohn", english: "son", article: "der"},
                {german: "die Tochter", english: "daughter", article: "die"},
                {german: "der Großvater", english: "grandfather", article: "der"},
                {german: "die Großmutter", english: "grandmother", article: "die"},
                {german: "der Onkel", english: "uncle", article: "der"},
                {german: "die Tante", english: "aunt", article: "die"},
                {german: "der Cousin", english: "cousin (male)", article: "der"},
                {german: "die Cousine", english: "cousin (female)", article: "die"},
                {german: "der Neffe", english: "nephew", article: "der"},
                {german: "die Nichte", english: "niece", article: "die"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            family.forEach(member => {
                html += `
                    <div class="vocab-card article-${member.article}" style="text-align: center;">
                        <p><strong>${member.german}</strong><br>${member.english}</p>
                        <button onclick="speak('${member.german}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("family-container").innerHTML = html;
        }
        
        // Clothing vocabulary
        function showClothing() {
            const clothing = [
                {german: "die Hose", english: "pants", article: "die"},
                {german: "das Hemd", english: "shirt", article: "das"},
                {german: "der Rock", english: "skirt", article: "der"},
                {german: "das Kleid", english: "dress", article: "das"},
                {german: "die Jacke", english: "jacket", article: "die"},
                {german: "der Mantel", english: "coat", article: "der"},
                {german: "der Pullover", english: "sweater", article: "der"},
                {german: "die Schuhe", english: "shoes", article: "die"},
                {german: "die Socken", english: "socks", article: "die"},
                {german: "die Mütze", english: "hat/cap", article: "die"},
                {german: "der Schal", english: "scarf", article: "der"},
                {german: "die Handschuhe", english: "gloves", article: "die"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            clothing.forEach(item => {
                html += `
                    <div class="vocab-card article-${item.article}" style="text-align: center;">
                        <p><strong>${item.german}</strong><br>${item.english}</p>
                        <button onclick="speak('${item.german}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("clothing-container").innerHTML = html;
        }
        
        // Household items vocabulary
        function showHousehold() {
            const household = [
                {german: "der Tisch", english: "table", article: "der"},
                {german: "der Stuhl", english: "chair", article: "der"},
                {german: "das Bett", english: "bed", article: "das"},
                {german: "der Schrank", english: "wardrobe", article: "der"},
                {german: "die Lampe", english: "lamp", article: "die"},
                {german: "das Sofa", english: "sofa", article: "das"},
                {german: "der Kühlschrank", english: "refrigerator", article: "der"},
                {german: "der Herd", english: "stove", article: "der"},
                {german: "die Mikrowelle", english: "microwave", article: "die"},
                {german: "die Waschmaschine", english: "washing machine", article: "die"},
                {german: "das Geschirr", english: "dishes", article: "das"},
                {german: "das Besteck", english: "cutlery", article: "das"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            household.forEach(item => {
                html += `
                    <div class="vocab-card article-${item.article}" style="text-align: center;">
                        <p><strong>${item.german}</strong><br>${item.english}</p>
                        <button onclick="speak('${item.german}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("household-container").innerHTML = html;
        }
        
        // Professions vocabulary
        function showProfessions() {
            const professions = [
                {german: "der Arzt/die Ärztin", english: "doctor", article: "der/die"},
                {german: "der Lehrer/die Lehrerin", english: "teacher", article: "der/die"},
                {german: "der Ingenieur/die Ingenieurin", english: "engineer", article: "der/die"},
                {german: "der Koch/die Köchin", english: "cook", article: "der/die"},
                {german: "der Student/die Studentin", english: "student", article: "der/die"},
                {german: "der Verkäufer/die Verkäuferin", english: "salesperson", article: "der/die"},
                {german: "der Polizist/die Polizistin", english: "police officer", article: "der/die"},
                {german: "der Fahrer/die Fahrerin", english: "driver", article: "der/die"},
                {german: "der Schriftsteller/die Schriftstellerin", english: "writer", article: "der/die"},
                {german: "der Künstler/die Künstlerin", english: "artist", article: "der/die"}
            ];
            
            let html = "<div style='display: flex; flex-wrap: wrap; justify-content: center;'>";
            professions.forEach(profession => {
                html += `
                    <div class="vocab-card" style="text-align: center;">
                        <p><strong>${profession.german}</strong><br>${profession.english}</p>
                        <button onclick="speak('${profession.german.split('/')[0]}')">Hear</button>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("professions-container").innerHTML = html;
        }
        
        // Flashcards with categories
        const flashcardCategories = {
            basic: [
                {german: "Haus", english: "house"},
                {german: "Buch", english: "book"},
                {german: "Stuhl", english: "chair"},
                {german: "Tisch", english: "table"},
                {german: "Fenster", english: "window"},
                {german: "Tür", english: "door"},
                {german: "Hund", english: "dog"},
                {german: "Katze", english: "cat"},
                {german: "Stadt", english: "city"},
                {german: "Land", english: "country"}
            ],
            food: [
                {german: "der Apfel", english: "apple"},
                {german: "die Banane", english: "banana"},
                {german: "das Brot", english: "bread"},
                {german: "der Käse", english: "cheese"},
                {german: "das Wasser", english: "water"},
                {german: "die Milch", english: "milk"},
                {german: "der Kaffee", english: "coffee"},
                {german: "der Tee", english: "tea"}
            ],
            family: [
                {german: "die Mutter", english: "mother"},
                {german: "der Vater", english: "father"},
                {german: "der Bruder", english: "brother"},
                {german: "die Schwester", english: "sister"},
                {german: "der Sohn", english: "son"},
                {german: "die Tochter", english: "daughter"},
                {german: "der Großvater", english: "grandfather"},
                {german: "die Großmutter", english: "grandmother"}
            ],
            verbs: [
                {german: "gehen", english: "to go"},
                {german: "kommen", english: "to come"},
                {german: "sehen", english: "to see"},
                {german: "hören", english: "to hear"},
                {german: "sprechen", english: "to speak"},
                {german: "lesen", english: "to read"},
                {german: "schreiben", english: "to write"},
                {german: "verstehen", english: "to understand"}
            ]
        };
        
        let currentFlashcardCategory = 'basic';
        let currentFlashcardIndex = 0;
        
        function changeFlashcardCategory() {
            currentFlashcardCategory = document.getElementById('flashcard-category').value;
            currentFlashcardIndex = 0;
            updateFlashcard();
        }
        
        function nextFlashcard() {
            const flashcards = flashcardCategories[currentFlashcardCategory];
            currentFlashcardIndex = (currentFlashcardIndex + 1) % flashcards.length;
            updateFlashcard();
        }
        
        function updateFlashcard() {
            const flashcards = flashcardCategories[currentFlashcardCategory];
            document.getElementById("flashcard-front").textContent = flashcards[currentFlashcardIndex].german;
            document.getElementById("flashcard-back").textContent = flashcards[currentFlashcardIndex].english;
        }
        
        // Initialize first flashcard
        updateFlashcard();
        
        // Matching game
        function createMatchingGame() {
            const words = [
                { german: "Haus", english: "house" },
                { german: "Buch", english: "book" },
                { german: "Mutter", english: "mother" },
                { german: "Wasser", english: "water" },
                { german: "Freund", english: "friend" },
                { german: "Schule", english: "school" },
                { german: "Arbeit", english: "work" },
                { german: "Zeit", english: "time" },
                { german: "Tag", english: "day" },
                { german: "Nacht", english: "night" }
            ];
            
            // Shuffle the words
            const shuffled = [...words].sort(() => 0.5 - Math.random()).slice(0, 6);
            
            let html = "<h4>Match German words with their English meanings:</h4>";
            html += "<div style='display: flex; flex-wrap: wrap; justify-content: space-around; margin: 1rem 0;'>";
            
            // German words
            html += "<div style='flex: 1; min-width: 200px;'>";
            html += "<h5>German</h5>";
            shuffled.forEach((word, index) => {
                html += `
                    <div style="margin: 10px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; cursor: pointer;" 
                         onclick="selectGermanWord(this, '${word.english}')" id="german-${index}">
                        ${word.german}
                    </div>
                `;
            });
            html += "</div>";
            
            // English words
            html += "<div style='flex: 1; min-width: 200px;'>";
            html += "<h5>English</h5>";
            const englishWords = [...shuffled].sort(() => 0.5 - Math.random());
            englishWords.forEach((word, index) => {
                html += `
                    <div style="margin: 10px; padding: 10px; border: 1px solid #ccc; border-radius: 4px; cursor: pointer;" 
                         onclick="selectEnglishWord(this, '${word.german}')" id="english-${index}">
                        ${word.english}
                    </div>
                `;
            });
            html += "</div>";
            
            html += "</div>";
            html += "<button onclick='checkMatchingPairs()'>Check Answers</button>";
            html += "<button onclick='showMatchingSolutions()' class='secondary'>Show Solutions</button>";
            
            document.getElementById("matching-game").innerHTML = html;
            
            // Store correct pairs for checking
            window.matchingPairs = {};
            shuffled.forEach(word => {
                window.matchingPairs[word.german] = word.english;
            });
            
            // Initialize selection tracking
            window.selectedGerman = null;
            window.selectedEnglish = null;
            window.matchedPairs = [];
        }
        
        function selectGermanWord(element, english) {
            // Reset previously selected German word
            document.querySelectorAll('[onclick^="selectGermanWord"]').forEach(el => {
                el.style.backgroundColor = '';
            });
            
            element.style.backgroundColor = '#e8eaf6';
            window.selectedGerman = {
                element: element,
                word: element.textContent.trim(),
                english: english
            };
            
            checkForMatch();
        }
        
        function selectEnglishWord(element, german) {
            // Reset previously selected English word
            document.querySelectorAll('[onclick^="selectEnglishWord"]').forEach(el => {
                el.style.backgroundColor = '';
            });
            
            element.style.backgroundColor = '#e8eaf6';
            window.selectedEnglish = {
                element: element,
                word: element.textContent.trim(),
                german: german
            };
            
            checkForMatch();
        }
        
        function checkForMatch() {
            if (window.selectedGerman && window.selectedEnglish) {
                if (window.selectedGerman.english === window.selectedEnglish.word) {
                    // Correct match
                    window.selectedGerman.element.style.backgroundColor = '#a5d6a7';
                    window.selectedEnglish.element.style.backgroundColor = '#a5d6a7';
                    window.selectedGerman.element.onclick = null;
                    window.selectedEnglish.element.onclick = null;
                    window.matchedPairs.push({
                        german: window.selectedGerman.word,
                        english: window.selectedEnglish.word
                    });
                } else {
                    // Wrong match
                    window.selectedGerman.element.style.backgroundColor = '#ef9a9a';
                    window.selectedEnglish.element.style.backgroundColor = '#ef9a9a';
                    setTimeout(() => {
                        window.selectedGerman.element.style.backgroundColor = '';
                        window.selectedEnglish.element.style.backgroundColor = '';
                    }, 1000);
                }
                
                window.selectedGerman = null;
                window.selectedEnglish = null;
            }
        }
        
        function checkMatchingPairs() {
            const feedback = document.getElementById("matching-feedback");
            const totalPairs = Object.keys(window.matchingPairs).length;
            
            if (window.matchedPairs.length === totalPairs) {
                feedback.textContent = "Perfect! All matches are correct!";
                feedback.className = "feedback correct";
            } else {
                const correctCount = window.matchedPairs.filter(pair => {
                    return window.matchingPairs[pair.german] === pair.english;
                }).length;
                
                feedback.textContent = `You have ${correctCount} correct out of ${totalPairs}. Keep trying!`;
                feedback.className = correctCount === totalPairs ? "feedback correct" : "feedback wrong";
            }
        }
        
        function showMatchingSolutions() {
            let solutions = "<h4>Correct Matches:</h4><ul>";
            for (const [german, english] of Object.entries(window.matchingPairs)) {
                solutions += `<li><strong>${german}</strong> - ${english}</li>`;
            }
            solutions += "</ul>";
            
            document.getElementById("matching-feedback").innerHTML = solutions;
        }
        
        // Exercise checkers
        function checkAnswer1() {
            const answer = document.getElementById("answer1").value.trim().toLowerCase();
            const feedback = document.getElementById("feedback1");
            
            if (answer === "bin") {
                feedback.textContent = "Correct! 'Ich bin Student.' means 'I am a student.'";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'bin' (Ich bin Student = I am a student).";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkAnswer2() {
            const answer = document.getElementById("answer2").value.trim().toLowerCase();
            const feedback = document.getElementById("feedback2");
            
            if (answer === "sind") {
                feedback.textContent = "Correct! 'Wir sind aus Deutschland.' means 'We are from Germany.'";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'sind' (Wir sind aus Deutschland = We are from Germany).";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkAnswer3() {
            const answer = document.getElementById("answer3").value.trim().toLowerCase();
            const feedback = document.getElementById("feedback3");
            
            if (answer === "bist") {
                feedback.textContent = "Correct! 'Bist du müde?' means 'Are you tired?'";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'bist' (Bist du müde? = Are you tired?).";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkArticle1() {
            const answer = document.getElementById("article1").value.trim().toLowerCase();
            const feedback = document.getElementById("article-feedback1");
            
            if (answer === "der") {
                feedback.textContent = "Correct! 'der Mann' - masculine nouns often end with -er, -ig, -ich, -ismus";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'der' (der Mann). Mann is a masculine noun.";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkArticle2() {
            const answer = document.getElementById("article2").value.trim().toLowerCase();
            const feedback = document.getElementById("article-feedback2");
            
            if (answer === "die") {
                feedback.textContent = "Correct! 'die Frau' - feminine nouns often end with -e, -heit, -keit, -ung, -schaft, -tät";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'die' (die Frau). Frau is a feminine noun.";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkArticle3() {
            const answer = document.getElementById("article3").value.trim().toLowerCase();
            const feedback = document.getElementById("article-feedback3");
            
            if (answer === "das") {
                feedback.textContent = "Correct! 'das Kind' - neuter nouns often end with -chen, -lein, -ment, -tum, -um";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'das' (das Kind). Kind is a neuter noun.";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkArticle4() {
            const answer = document.getElementById("article4").value.trim().toLowerCase();
            const feedback = document.getElementById("article-feedback4");
            
            if (answer === "das") {
                feedback.textContent = "Correct! 'das Buch' - neuter nouns often end with -chen, -lein, -ment, -tum, -um";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'das' (das Buch). Buch is a neuter noun.";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkVerb1() {
            const answer = document.getElementById("verb1").value.trim().toLowerCase();
            const feedback = document.getElementById("verb-feedback1");
            
            if (answer === "wohne") {
                feedback.textContent = "Correct! 'Ich wohne in Berlin.' (I live in Berlin.)";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'wohne' (Ich wohne in Berlin).";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkVerb2() {
            const answer = document.getElementById("verb2").value.trim().toLowerCase();
            const feedback = document.getElementById("verb-feedback2");
            
            if (answer === "wohnst") {
                feedback.textContent = "Correct! 'Du wohnst in Hamburg.' (You live in Hamburg.)";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'wohnst' (Du wohnst in Hamburg).";
                feedback.className = "feedback wrong";
            }
        }
        
        function checkVerb3() {
            const answer = document.getElementById("verb3").value.trim().toLowerCase();
            const feedback = document.getElementById("verb-feedback3");
            
            if (answer === "wohnt") {
                feedback.textContent = "Correct! 'Er wohnt in München.' (He lives in Munich.)";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct answer is 'wohnt' (Er wohnt in München).";
                feedback.className = "feedback wrong";
            }
        }
        
        // Word order exercise
        function setupWordOrder() {
            const words = document.querySelectorAll('.word');
            const slots = document.querySelectorAll('.slot');
            
            words.forEach(word => {
                word.addEventListener('dragstart', dragStart);
            });
            
            slots.forEach(slot => {
                slot.addEventListener('dragover', dragOver);
                slot.addEventListener('drop', drop);
            });
        }
        
        function dragStart(e) {
            e.dataTransfer.setData('text/plain', e.target.id);
        }
        
        function dragOver(e) {
            e.preventDefault();
        }
        
        function drop(e) {
            e.preventDefault();
            const id = e.dataTransfer.getData('text/plain');
            const draggedElement = document.getElementById(id);
            
            // If slot already has a child, swap them
            if (e.target.children.length > 0) {
                const existingChild = e.target.children[0];
                document.getElementById('word-order-exercise').appendChild(existingChild);
            }
            
            e.target.appendChild(draggedElement);
        }
        
        function checkWordOrder() {
            const slots = document.querySelectorAll('.slot');
            const feedback = document.getElementById("word-order-feedback");
            
            let sentence = '';
            slots.forEach(slot => {
                if (slot.children.length > 0) {
                    sentence += slot.children[0].textContent + ' ';
                }
            });
            
            sentence = sentence.trim();
            
            if (sentence === "Ich lerne Deutsch") {
                feedback.textContent = "Perfect! 'Ich lerne Deutsch.' is the correct word order.";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. The correct order is 'Ich lerne Deutsch.' (Subject - Verb - Object).";
                feedback.className = "feedback wrong";
            }
        }
        
        // Listening exercise
        function playListeningExercise() {
            const phrases = [
                "Guten Morgen",
                "Wie geht es dir",
                "Ich heiße Anna",
                "Woher kommst du",
                "Sprechen Sie Englisch",
                "Ich wohne in Berlin",
                "Wie alt bist du",
                "Ich habe einen Bruder",
                "Was ist dein Beruf",
                "Wo ist die Toilette"
            ];
            
            const randomPhrase = phrases[Math.floor(Math.random() * phrases.length)];
            window.currentListeningAnswer = randomPhrase;
            
            speak(randomPhrase);
        }
        
        function checkListeningAnswer() {
            const userAnswer = document.getElementById("listening-answer").value.trim();
            const feedback = document.getElementById("listening-feedback");
            
            if (userAnswer.toLowerCase() === window.currentListeningAnswer.toLowerCase()) {
                feedback.textContent = "Excellent! You heard correctly.";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = `Almost! The correct phrase was "${window.currentListeningAnswer}". Try again!`;
                feedback.className = "feedback wrong";
            }
        }
        
        // Quiz options
        function selectQuizOption(element, type) {
            // Reset all options
            document.querySelectorAll('.quiz-option').forEach(opt => {
                opt.className = "quiz-option";
            });
            
            element.className = "quiz-option selected";
            
            const feedback = element.parentElement.querySelector('.feedback');
            
            if (type === 'correct') {
                feedback.textContent = "Correct! Well done!";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. Try again!";
                feedback.className = "feedback wrong";
            }
        }
        
        // Sentence builder
        function buildSentence() {
            const subject = document.getElementById('sentence-subject').value;
            const verb = document.getElementById('sentence-verb').value;
            const object = document.getElementById('sentence-object').value;
            
            const sentence = `${subject} ${verb} ${object}.`;
            document.getElementById('sentence-result').textContent = sentence;
            document.getElementById('sentence-result').className = "feedback correct";
        }
        
        // Conversation practice
        function speakConversation(type) {
            let text = "";
            switch(type) {
                case 'greeting':
                    text = "Hallo! Wie geht's? Mir geht's gut, danke. Und dir? Auch gut. Wie heißt du? Ich heiße Anna. Und du? Ich bin Max. Schön dich kennenzulernen!";
                    break;
                case 'restaurant':
                    text = "Guten Abend! Haben Sie einen Tisch für zwei? Ja, natürlich. Hier bitte. Können wir die Speisekarte sehen? Hier bitte. Möchten Sie etwas zu trinken? Ich hätte gern ein Glas Wasser, bitte.";
                    break;
                case 'shopping':
                    text = "Entschuldigung, wie viel kostet das? Das kostet 20 Euro. Kann ich mit Karte zahlen? Ja, natürlich. Hier bitte. Danke schön!";
                    break;
            }
            
            speak(text);
        }
        
        function checkDialogResponse(num, correctAnswer) {
            const response = document.getElementById(`dialog-response${num}`).textContent.trim();
            const feedback = document.getElementById(`dialog-feedback${num}`);
            
            if (response.toLowerCase().includes(correctAnswer.toLowerCase().split('[')[0])) {
                feedback.textContent = "Great job! That's a good response.";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = `A good response would be: "${correctAnswer}"`;
                feedback.className = "feedback wrong";
            }
        }
        
        // Role play scenarios
        function startRolePlay(type) {
            let html = "";
            switch(type) {
                case 'trainStation':
                    html = `
                        <h4>At the Train Station</h4>
                        <p>You: Entschuldigung, wann fährt der nächste Zug nach Berlin?</p>
                        <p>Clerk: Der nächste Zug fährt um 14:30 Uhr.</p>
                        <p>You: Wie viel kostet eine Fahrkarte?</p>
                        <p>Clerk: Einfach oder hin und zurück?</p>
                        <div class="dialog-response" contenteditable="true" id="role-play-response1"></div>
                        <button onclick="checkRolePlayResponse(1, 'Einfach, bitte.')">Check Answer</button>
                        <div class="dialog-feedback" id="role-play-feedback1"></div>
                    `;
                    break;
                case 'hotel':
                    html = `
                        <h4>At the Hotel</h4>
                        <p>Receptionist: Guten Tag! Haben Sie eine Reservierung?</p>
                        <div class="dialog-response" contenteditable="true" id="role-play-response2"></div>
                        <button onclick="checkRolePlayResponse(2, 'Ja, unter dem Namen Müller.')">Check Answer</button>
                        <div class="dialog-feedback" id="role-play-feedback2"></div>
                    `;
                    break;
            }
            
            document.getElementById(`${type}-role-play`).innerHTML = html;
        }
        
        function checkRolePlayResponse(num, correctAnswer) {
            const response = document.getElementById(`role-play-response${num}`).textContent.trim();
            const feedback = document.getElementById(`role-play-feedback${num}`);
            
            if (response.toLowerCase().includes(correctAnswer.toLowerCase().split('[')[0])) {
                feedback.textContent = "Perfect! That's exactly what you'd say.";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = `A good response would be: "${correctAnswer}"`;
                feedback.className = "feedback wrong";
            }
        }
        
        // Tests
        function startVocabTest() {
            const words = [
                {english: "house", german: "Haus"},
                {english: "book", german: "Buch"},
                {english: "water", german: "Wasser"},
                {english: "mother", german: "Mutter"},
                {english: "friend", german: "Freund"},
                {english: "city", german: "Stadt"},
                {english: "dog", german: "Hund"},
                {english: "cat", german: "Katze"},
                {english: "apple", german: "Apfel"},
                {english: "bread", german: "Brot"}
            ];
            
            let html = "<div>";
            words.forEach((word, index) => {
                html += `
                    <p>${word.english}: <input type="text" id="vocab-test-answer-${index}"></p>
                `;
            });
            html += "</div>";
            
            document.getElementById("vocab-test-container").innerHTML = html;
            window.vocabTestAnswers = words.map(word => word.german);
        }
        
        function checkVocabTest() {
            const feedback = document.getElementById("vocab-test-feedback");
            let correct = 0;
            let html = "<h4>Results:</h4><ul>";
            
            for (let i = 0; i < window.vocabTestAnswers.length; i++) {
                const answer = document.getElementById(`vocab-test-answer-${i}`).value.trim();
                if (answer.toLowerCase() === window.vocabTestAnswers[i].toLowerCase()) {
                    correct++;
                    html += `<li style="color: var(--correct-color);">Correct: ${window.vocabTestAnswers[i]}</li>`;
                } else {
                    html += `<li style="color: var(--wrong-color);">Incorrect: ${window.vocabTestAnswers[i]} (your answer: ${answer})</li>`;
                }
            }
            
            html += `</ul><p>Score: ${correct}/${window.vocabTestAnswers.length}</p>`;
            feedback.innerHTML = html;
            feedback.className = correct === window.vocabTestAnswers.length ? "feedback correct" : 
                                correct >= window.vocabTestAnswers.length/2 ? "feedback" : "feedback wrong";
        }
        
        function startGrammarTest() {
            const questions = [
                {
                    question: "Er _____ (wohnen) in Frankfurt.",
                    answer: "wohnt",
                    explanation: "Correct conjugation for 'er' is 'wohnt'"
                },
                {
                    question: "_____ (the) Mann ist mein Vater.",
                    answer: "der",
                    explanation: "'Mann' is masculine, so the correct article is 'der'"
                },
                {
                    question: "Ich _____ (sein) Student.",
                    answer: "bin",
                    explanation: "Correct conjugation of 'sein' for 'ich' is 'bin'"
                },
                {
                    question: "_____ (you informal singular) hast ein Buch.",
                    answer: "du",
                    explanation: "The verb 'hast' indicates the subject is 'du'"
                },
                {
                    question: "Wir _____ (haben) zwei Kinder.",
                    answer: "haben",
                    explanation: "Correct conjugation of 'haben' for 'wir' is 'haben'"
                }
            ];
            
            let html = "<div>";
            questions.forEach((q, index) => {
                html += `
                    <p>${q.question} <input type="text" id="grammar-test-answer-${index}"></p>
                `;
            });
            html += "</div>";
            
            document.getElementById("grammar-test-container").innerHTML = html;
            window.grammarTestData = questions;
        }
        
        function checkGrammarTest() {
            const feedback = document.getElementById("grammar-test-feedback");
            let correct = 0;
            let html = "<h4>Results:</h4><ul>";
            
            for (let i = 0; i < window.grammarTestData.length; i++) {
                const answer = document.getElementById(`grammar-test-answer-${i}`).value.trim();
                if (answer.toLowerCase() === window.grammarTestData[i].answer.toLowerCase()) {
                    correct++;
                    html += `<li style="color: var(--correct-color);">Correct: ${window.grammarTestData[i].explanation}</li>`;
                } else {
                    html += `<li style="color: var(--wrong-color);">Incorrect: ${window.grammarTestData[i].explanation} (your answer: ${answer})</li>`;
                }
            }
            
            html += `</ul><p>Score: ${correct}/${window.grammarTestData.length}</p>`;
            feedback.innerHTML = html;
            feedback.className = correct === window.grammarTestData.length ? "feedback correct" : 
                                correct >= window.grammarTestData.length/2 ? "feedback" : "feedback wrong";
        }
        
        function startListeningTest() {
            const questions = [
                {
                    audio: "Wie heißt du?",
                    question: "What does the speaker ask?",
                    options: ["What's your name?", "How are you?", "Where are you from?"],
                    answer: 0
                },
                {
                    audio: "Ich komme aus Österreich.",
                    question: "Where is the speaker from?",
                    options: ["Germany", "Austria", "Switzerland"],
                    answer: 1
                },
                {
                    audio: "Der Zug fährt um neun Uhr.",
                    question: "When does the train leave?",
                    options: ["At 7 o'clock", "At 8 o'clock", "At 9 o'clock"],
                    answer: 2
                }
            ];
            
            let html = "<div>";
            questions.forEach((q, index) => {
                html += `
                    <div class="exercise">
                        <p><strong>Question ${index + 1}:</strong> <button onclick="speak('${q.audio}')">Play Audio</button></p>
                        <p>${q.question}</p>
                        ${q.options.map((opt, optIndex) => `
                            <div class="quiz-option" onclick="selectListeningAnswer(${index}, ${optIndex}, ${q.answer})">${opt}</div>
                        `).join('')}
                        <div id="listening-test-feedback-${index}" class="feedback"></div>
                    </div>
                `;
            });
            html += "</div>";
            
            document.getElementById("listening-test-container").innerHTML = html;
        }
        
        function selectListeningAnswer(questionNum, selectedOption, correctOption) {
            const feedback = document.getElementById(`listening-test-feedback-${questionNum}`);
            
            if (selectedOption === correctOption) {
                feedback.textContent = "Correct! Well done!";
                feedback.className = "feedback correct";
            } else {
                feedback.textContent = "Not quite. Try again!";
                feedback.className = "feedback wrong";
            }
        }
        
        function startReadingTest() {
            const text = `
                <p><strong>Read the following text:</strong></p>
                <div style="background-color: #f9f9f9; padding: 1rem; border-radius: 8px;">
                    <p>Hallo! Ich heiße Anna. Ich bin 25 Jahre alt und komme aus Deutschland. Ich wohne in Berlin. 
                    Ich studiere Medizin an der Universität. Mein Bruder heißt Thomas. Er ist 28 Jahre alt und arbeitet als Lehrer. 
                    Meine Eltern wohnen in München. Am Wochenende besuche ich meine Freunde. Wir gehen oft ins Kino oder in ein Restaurant.</p>
                </div>
                <div class="exercise">
                    <p><strong>Question 1:</strong> How old is Anna?</p>
                    <input type="text" id="reading-answer-1">
                </div>
                <div class="exercise">
                    <p><strong>Question 2:</strong> Where does Anna study?</p>
                    <input type="text" id="reading-answer-2">
                </div>
                <div class="exercise">
                    <p><strong>Question 3:</strong> What does Anna's brother do?</p>
                    <input type="text" id="reading-answer-3">
                </div>
                <button onclick="checkReadingTest()">Check Answers</button>
            `;
            
            document.getElementById("reading-test-container").innerHTML = text;
            window.readingTestAnswers = ["25", "Universität", "Lehrer"];
        }
        
        function checkReadingTest() {
            const feedback = document.getElementById("reading-test-feedback");
            let correct = 0;
            let html = "<h4>Results:</h4><ul>";
            
            for (let i = 0; i < window.readingTestAnswers.length; i++) {
                const answer = document.getElementById(`reading-answer-${i+1}`).value.trim();
                if (answer.toLowerCase() === window.readingTestAnswers[i].toLowerCase()) {
                    correct++;
                    html += `<li style="color: var(--correct-color);">Question ${i+1}: Correct!</li>`;
                } else {
                    html += `<li style="color: var(--wrong-color);">Question ${i+1}: The correct answer is "${window.readingTestAnswers[i]}"</li>`;
                }
            }
            
            html += `</ul><p>Score: ${correct}/${window.readingTestAnswers.length}</p>`;
            feedback.innerHTML = html;
            feedback.className = correct === window.readingTestAnswers.length ? "feedback correct" : 
                                correct >= window.readingTestAnswers.length/2 ? "feedback" : "feedback wrong";
        }
        
        function startFinalTest() {
            const test = `
                <h3>Final A1 Assessment</h3>
                <p>Complete all sections to test your A1 knowledge.</p>
                
                <div class="exercise">
                    <h4>Vocabulary</h4>
                    <p>Translate to German:</p>
                    <p>1. apple: <input type="text" id="final-1"></p>
                    <p>2. book: <input type="text" id="final-2"></p>
                    <p>3. mother: <input type="text" id="final-3"></p>
                </div>
                
                <div class="exercise">
                    <h4>Grammar</h4>
                    <p>Fill in the blanks:</p>
                    <p>1. Ich _____ (sein) Student. <input type="text" id="final-4"></p>
                    <p>2. _____ (the) Mann ist mein Vater. <input type="text" id="final-5"></p>
                    <p>3. Er _____ (wohnen) in Berlin. <input type="text" id="final-6"></p>
                </div>
                
                <div class="exercise">
                    <h4>Listening</h4>
                    <p>Listen and answer: <button onclick="speak('Wie alt bist du?')">Play Audio</button></p>
                    <p>What is the question asking? <input type="text" id="final-7"></p>
                </div>
                
                <div class="exercise">
                    <h4>Reading</h4>
                    <p>Read and answer:</p>
                    <div style="background-color: #f9f9f9; padding: 1rem; border-radius: 8px;">
                        <p>Mein Name ist Klaus. Ich bin 30 Jahre alt. Ich komme aus Österreich aber ich wohne jetzt in Deutschland. 
                        Ich bin Lehrer. Meine Frau heißt Maria. Sie ist Ärztin. Wir haben zwei Kinder.</p>
                    </div>
                    <p>1. Where is Klaus from? <input type="text" id="final-8"></p>
                    <p>2. What is his job? <input type="text" id="final-9"></p>
                </div>
                
                <div class="exercise">
                    <h4>Writing</h4>
                    <p>Write a short paragraph about yourself in German (4-5 sentences):</p>
                    <textarea id="final-10" rows="5" style="width: 100%; max-width: 600px;"></textarea>
                </div>
            `;
            
            document.getElementById("final-test-container").innerHTML = test;
            window.finalTestAnswers = [
                "Apfel", "Buch", "Mutter",       // Vocabulary
                "bin", "der", "wohnt",            // Grammar
                "How old are you",                 // Listening
                "Österreich", "Lehrer"            // Reading
                // Writing is evaluated separately
            ];
        }
        
        function checkFinalTest() {
            const feedback = document.getElementById("final-test-feedback");
            const scoreElement = document.getElementById("final-test-score");
            let correct = 0;
            let html = "<h4>Results:</h4><ul>";
            
            // Check vocabulary
            for (let i = 1; i <= 3; i++) {
                const answer = document.getElementById(`final-${i}`).value.trim();
                if (answer.toLowerCase() === window.finalTestAnswers[i-1].toLowerCase()) {
                    correct++;
                    html += `<li style="color: var(--correct-color);">Vocabulary ${i}: Correct!</li>`;
                } else {
                    html += `<li style="color: var(--wrong-color);">Vocabulary ${i}: The correct answer is "${window.finalTestAnswers[i-1]}"</li>`;
                }
            }
            
            // Check grammar
            for (let i = 4; i <= 6; i++) {
                const answer = document.getElementById(`final-${i}`).value.trim();
                if (answer.toLowerCase() === window.finalTestAnswers[i-1].toLowerCase()) {
                    correct++;
                    html += `<li style="color: var(--correct-color);">Grammar ${i-3}: Correct!</li>`;
                } else {
                    html += `<li style="color: var(--wrong-color);">Grammar ${i-3}: The correct answer is "${window.finalTestAnswers[i-1]}"</li>`;
                }
            }
            
            // Check listening
            const listeningAnswer = document.getElementById('final-7').value.trim();
            if (listeningAnswer.toLowerCase().includes("how old")) {
                correct++;
                html += `<li style="color: var(--correct-color);">Listening: Correct! The question is "How old are you?"</li>`;
            } else {
                html += `<li style="color: var(--wrong-color);">Listening: The question is "How old are you?"</li>`;
            }
            
            // Check reading
            for (let i = 8; i <= 9; i++) {
                const answer = document.getElementById(`final-${i}`).value.trim();
                if (answer.toLowerCase() === window.finalTestAnswers[i-2].toLowerCase()) {
                    correct++;
                    html += `<li style="color: var(--correct-color);">Reading ${i-7}: Correct!</li>`;
                } else {
                    html += `<li style="color: var(--wrong-color);">Reading ${i-7}: The correct answer is "${window.finalTestAnswers[i-2]}"</li>`;
                }
            }
            
            // Writing (basic check for length)
            const writing = document.getElementById('final-10').value.trim();
            if (writing.split(/[.!?]+/).filter(Boolean).length >= 3) {
                correct += 2; // Give 2 points for writing
                html += `<li style="color: var(--correct-color);">Writing: Good job! Your paragraph has enough sentences.</li>`;
            } else {
                html += `<li style="color: var(--wrong-color);">Writing: Try to write at least 3-4 sentences about yourself.</li>`;
            }
            
            const totalQuestions = 11; // 9 regular + 2 for writing
            const percentage = Math.round((correct / totalQuestions) * 100);
            
            html += `</ul><p>Score: ${correct}/${totalQuestions} (${percentage}%)</p>`;
            
            if (percentage >= 75) {
                html += "<p style='color: var(--correct-color); font-weight: bold;'>Congratulations! You've passed the A1 level test!</p>";
            } else if (percentage >= 50) {
                html += "<p style='color: orange; font-weight: bold;'>Good effort! Review some areas and try again.</p>";
            } else {
                html += "<p style='color: var(--wrong-color); font-weight: bold;'>Keep practicing! Review the A1 material and try again.</p>";
            }
            
            feedback.innerHTML = html;
            scoreElement.textContent = `Final Score: ${percentage}%`;
            scoreElement.className = percentage >= 75 ? "feedback correct" : 
                                    percentage >= 50 ? "feedback" : "feedback wrong";
        }
        
        // Initialize word order exercise
        window.addEventListener('DOMContentLoaded', (event) => {
            setupWordOrder();
            updateProgress();
        });
    </script>
</body>
</html>